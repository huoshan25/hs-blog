{"openapi":"3.0.0","paths":{"/api/blog/auth/send-code":{"post":{"operationId":"sendEmailCode","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SendEmailCodeDto"}}}},"responses":{"201":{"description":""}},"summary":"发送邮箱验证码","tags":["blog","认证"]}},"/api/blog/auth/verify-code":{"post":{"operationId":"verifyEmailCode","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VerifyEmailCodeDto"}}}},"responses":{"201":{"description":""}},"summary":"验证邮箱验证码","tags":["blog","认证"]}},"/api/blog/auth/register":{"post":{"operationId":"register","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterDto"}}}},"responses":{"200":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseBase"},{"properties":{"code":{"type":"number","example":200},"message":{"type":"string","example":"操作成功"},"data":{"$ref":"#/components/schemas/registerResVo"}}}]},"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/registerResVo"}}}}},"summary":"用户注册","tags":["blog","认证"]}},"/api/blog/auth/login":{"post":{"operationId":"login","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDto"}}}},"responses":{"200":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseBase"},{"properties":{"code":{"type":"number","example":200},"message":{"type":"string","example":"操作成功"},"data":{"$ref":"#/components/schemas/LoginResponseVo"}}}]},"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponseVo"}}}}},"summary":"用户登录","tags":["blog","认证"]}},"/api/blog/auth/refresh-token":{"post":{"operationId":"refresh","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenDto"}}}},"responses":{"200":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseBase"},{"properties":{"code":{"type":"number","example":200},"message":{"type":"string","example":"操作成功"},"data":{"$ref":"#/components/schemas/LoginResponseDto"}}}]},"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponseDto"}}}}},"summary":"刷新访问令牌","tags":["blog","认证"]}},"/api/blog/user/profile":{"get":{"operationId":"getProfile","parameters":[],"responses":{"200":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseBase"},{"properties":{"code":{"type":"number","example":200},"message":{"type":"string","example":"操作成功"},"data":{"$ref":"#/components/schemas/userVo"}}}]},"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/userVo"}}}}},"security":[{"bearer":[]}],"summary":"获取当前登录用户信息","tags":["blog","用户"]},"put":{"operationId":"updateProfile","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserDto"}}}},"responses":{"200":{"description":"更新成功"}},"security":[{"bearer":[]}],"summary":"更新用户个人资料","tags":["blog","用户"]}},"/api/blog/user/info":{"get":{"operationId":"getUserInfo","parameters":[{"name":"id","required":true,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"查询用户信息","tags":["blog","用户"]}},"/api/blog/user/personal-profile-info":{"get":{"operationId":"getConcise","parameters":[],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"获取个人简介信息","tags":["blog","用户"]}},"/api/blog/user/bio":{"get":{"operationId":"getBio","parameters":[],"responses":{"200":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseBase"},{"properties":{"code":{"type":"number","example":200},"message":{"type":"string","example":"操作成功"},"data":{"$ref":"#/components/schemas/UserBioVo"}}}]},"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserBioVo"}}}}},"security":[{"bearer":[]}],"summary":"获取用户卡片信息","tags":["blog","用户"]}},"/api/blog/user/level/me":{"get":{"operationId":"getCurrentUserLevelInfo","parameters":[],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"获取当前用户的等级信息","tags":["blog","用户"]}},"/api/blog/user/avatar":{"post":{"operationId":"updateAvatar","parameters":[],"responses":{"201":{"description":""}},"security":[{"bearer":[]}],"summary":"更新用户头像","tags":["blog","用户"]}},"/api/blog/user/password":{"put":{"operationId":"updatePassword","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserPasswordDto"}}}},"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"更新用户密码","tags":["blog","用户"]}},"/api/blog/openai/chat":{"post":{"operationId":"chat","parameters":[],"responses":{"201":{"description":""}},"tags":["blog","大模型应用"]}},"/api/blog/openai/analyze-code":{"post":{"operationId":"analyzeCode","parameters":[],"responses":{"201":{"description":""}},"summary":"代码分析","tags":["blog","大模型应用"]}},"/api/blog/url-preview":{"get":{"operationId":"getPreview","parameters":[],"responses":{"200":{"description":""}},"summary":"获取链接预览","tags":["blog","链接预览"]}},"/api/blog/article/list":{"get":{"operationId":"findPublicArticles","parameters":[],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"获取文章列表","tags":["blog","文章模块"]}},"/api/blog/article/search-select":{"get":{"operationId":"searchArticleSelect","parameters":[],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"搜索文章","tags":["blog","文章模块"]}},"/api/blog/article/search":{"get":{"operationId":"searchArticles","parameters":[],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"搜索文章","tags":["blog","文章模块"]}},"/api/blog/article/tags":{"get":{"operationId":"findAllTags","parameters":[],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"获取所有标签","tags":["blog","文章模块"]}},"/api/blog/article/details":{"get":{"operationId":"articleDetails","parameters":[{"name":"id","required":true,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"获取文章详情","tags":["blog","文章模块"]}},"/api/blog/article/sitemap-info":{"get":{"operationId":"findHotArticles","parameters":[],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"获取文章详情","tags":["blog","文章模块"]}},"/api/blog/article/view-count":{"get":{"operationId":"viewCount","parameters":[{"name":"id","required":true,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"文章浏览量","tags":["blog","文章模块"]}},"/api/blog/article/like/toggle":{"post":{"operationId":"toggleLike","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ArticleLikeDto"}}}},"responses":{"201":{"description":""}},"security":[{"bearer":[]},{"bearer":[]}],"summary":"点赞或取消点赞文章","tags":["blog","文章模块"]}},"/api/blog/article/like/status":{"get":{"operationId":"getLikeStatusForUser","parameters":[{"name":"articleId","required":true,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"获取文章点赞状态","tags":["blog","文章模块"]}},"/api/blog/article/like/user-liked":{"get":{"operationId":"getUserLikedArticles","parameters":[{"name":"page","required":true,"in":"query","schema":{"type":"number"}},{"name":"limit","required":true,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"获取用户点赞的文章列表","tags":["blog","文章模块"]}},"/api/blog/category":{"get":{"operationId":"findAll","parameters":[],"responses":{"200":{"description":""}},"tags":["blog","分类"]}},"/api/blog/tag/articles":{"get":{"operationId":"getArticlesByTagName","parameters":[],"responses":{"200":{"description":""}},"summary":"获取标签下的文章","tags":["blog","标签模块"]}},"/api/blog/tag":{"get":{"operationId":"getAllTags","parameters":[],"responses":{"200":{"description":""}},"summary":"获取所有标签","tags":["blog","标签模块"]}},"/api/blog/tag/search":{"get":{"operationId":"getArticleCount","parameters":[{"name":"keyword","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"summary":"搜索标签","tags":["blog","标签模块"]}},"/api/blog/friend-links":{"get":{"operationId":"getAllApprovedFriendLinks","parameters":[],"responses":{"200":{"description":""}},"summary":"获取所有已批准的友链","tags":["blog","友链"]}},"/api/blog/friend-links/apply":{"post":{"operationId":"applyFriendLink","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateFriendLinkDto"}}}},"responses":{"201":{"description":""}},"summary":"申请友链","tags":["blog","友链"]}}},"info":{"title":"hs blog API","description":"hs blog 项目 API 文档","version":"1.0.0","contact":{"name":"火山","url":"https://github.com/huoshan25/sky-hub","email":"2633057734@qq.com"}},"tags":[],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http","name":"Authorization","description":"请输入 JWT 格式的 Token","in":"header"}},"schemas":{"SendEmailCodeDto":{"type":"object","properties":{"email":{"type":"string","description":"邮箱地址","example":"example@sky.com"}},"required":["email"]},"VerifyEmailCodeDto":{"type":"object","properties":{"email":{"type":"string","description":"邮箱地址","example":"example@sky.com"},"code":{"type":"string","description":"验证码","example":"123456","minLength":6,"maxLength":6}},"required":["email","code"]},"ApiResponseBase":{"type":"object","properties":{}},"registerResVo":{"type":"object","properties":{"accessToken":{"type":"string","description":"用户token"},"refreshToken":{"type":"string","description":"刷新token"}},"required":["accessToken","refreshToken"]},"RegisterDto":{"type":"object","properties":{"username":{"type":"string","description":"用户名","example":"skyuser","minLength":3},"email":{"type":"string","description":"邮箱地址","example":"example@sky.com"},"password":{"type":"string","description":"密码","example":"password123","minLength":6},"confirmPassword":{"type":"string","description":"确认密码","example":"password123","minLength":6},"code":{"type":"string","description":"邮箱验证码","example":"123456"}},"required":["username","email","password","confirmPassword","code"]},"LoginResponseVo":{"type":"object","properties":{"accessToken":{"type":"string","description":"用户token"},"refreshToken":{"type":"string","description":"刷新token"}},"required":["accessToken","refreshToken"]},"LoginDto":{"type":"object","properties":{"usernameOrEmail":{"type":"string","description":"用户名或邮箱","example":"skyuser"},"password":{"type":"string","description":"密码","example":"password123"}},"required":["usernameOrEmail","password"]},"LoginResponseDto":{"type":"object","properties":{"accessToken":{"type":"string","description":"访问令牌"},"refreshToken":{"type":"string","description":"刷新令牌"},"expiresIn":{"type":"number","description":"访问令牌过期时间（秒）"}},"required":["accessToken","refreshToken","expiresIn"]},"RefreshTokenDto":{"type":"object","properties":{"refreshToken":{"type":"string","description":"刷新令牌","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}},"required":["refreshToken"]},"userVo":{"type":"object","properties":{"id":{"type":"number","description":"用户id"},"userName":{"type":"string","description":"用户名"},"email":{"type":"string","description":"邮箱"},"avatar":{"type":"string","description":"头像"},"bio":{"type":"string","description":"个人简介"}},"required":["id","userName","email","avatar","bio"]},"UpdateUserDto":{"type":"object","properties":{"userName":{"type":"string","description":"用户名","example":"johndoe"},"avatar":{"type":"string","description":"头像URL","example":"https://example.com/avatar.jpg"},"bio":{"type":"string","description":"个人简介","example":"这是一段个人简介"},"position":{"type":"string","description":"职位","example":"前端工程师"}}},"UserBioVo":{"type":"object","properties":{"id":{"type":"number","description":"用户ID"},"name":{"type":"string","description":"名称"},"avatar":{"type":"string","description":"头像URL"},"bgImg":{"type":"string","description":"背景图片URL"},"description":{"type":"string","description":"个人描述"},"createdAt":{"format":"date-time","type":"string","description":"创建时间"},"updatedAt":{"format":"date-time","type":"string","description":"更新时间"}},"required":["id","name","avatar","bgImg","description","createdAt","updatedAt"]},"UpdateUserPasswordDto":{"type":"object","properties":{"oldPassword":{"type":"string","description":"旧密码","example":"oldPassword123"},"newPassword":{"type":"string","description":"新密码","example":"newPassword123"},"confirmPassword":{"type":"string","description":"确认新密码","example":"newPassword123"}},"required":["oldPassword","newPassword","confirmPassword"]},"UpdateProfileDto":{"type":"object","properties":{}},"userAdminVo":{"type":"object","properties":{"id":{"type":"number","description":"用户id"},"userName":{"type":"string","description":"用户名"},"email":{"type":"string","description":"邮箱"},"avatar":{"type":"string","description":"头像"},"bio":{"type":"string","description":"个人简介"},"role":{"type":"string","description":"角色 user:普通用户 admin:管理员"}},"required":["id","userName","email","avatar","bio","role"]},"CreateUserBioDto":{"type":"object","properties":{"name":{"type":"string","description":"用户名称","example":"张三"},"avatar":{"type":"string","description":"头像URL","example":"https://example.com/avatar.jpg"},"bgImg":{"type":"string","description":"背景图片URL","example":"https://example.com/bg.jpg"},"description":{"type":"string","description":"个人描述","example":"这是我的个人介绍"}},"required":["name"]},"UpdateUserBioDto":{"type":"object","properties":{"name":{"type":"string","description":"用户名称","example":"张三"},"avatar":{"type":"string","description":"头像URL","example":"https://example.com/avatar.jpg"},"bgImg":{"type":"string","description":"背景图片URL","example":"https://example.com/bg.jpg"},"description":{"type":"string","description":"个人描述","example":"这是我的个人介绍"}},"required":["name"]},"AddUserPointsDto":{"type":"object","properties":{"points":{"type":"number","description":"要增加的积分","example":10}},"required":["points"]},"EditArticlesStatus":{"type":"object","properties":{}},"UpdateArticleDto":{"type":"object","properties":{}},"CreateArticleDto":{"type":"object","properties":{}},"DeleteArticlesDto":{"type":"object","properties":{}},"CreateArticleTtsDto":{"type":"object","properties":{}},"ArticleLikeDto":{"type":"object","properties":{"articleId":{"type":"number","description":"文章ID","example":1}},"required":["articleId"]},"CreateCategoryDto":{"type":"object","properties":{}},"UpdateCategoryDto":{"type":"object","properties":{}},"DeleteCategoryDto":{"type":"object","properties":{}},"CreateCommentDto":{"type":"object","properties":{"content":{"type":"string","description":"评论内容","example":"这是一条评论"},"articleId":{"type":"number","description":"文章ID","example":1},"parentId":{"type":"number","description":"父评论ID，用于回复功能","example":1},"replyToId":{"type":"number","description":"被回复的评论ID，主要用于二级评论的回复关系","example":2},"replyToUser":{"type":"string","description":"被回复的用户名，用于前端显示","example":"张三"}},"required":["content","articleId"]},"CreateFriendLinkDto":{"type":"object","properties":{}},"UpdateFriendLinkStatusDto":{"type":"object","properties":{}}}}}